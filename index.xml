<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>Patrick Blog</title>
    <link>https://patrickhao.github.io/</link>
    <description>Recent content on Patrick Blog</description>
    <generator>Hugo -- 0.139.3</generator>
    <language>en</language>
    <lastBuildDate>Wed, 04 Dec 2024 15:20:10 +0800</lastBuildDate>
    <atom:link href="https://patrickhao.github.io/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>xmakeæŠ˜è…¾è®°å½•</title>
      <link>https://patrickhao.github.io/posts/%E6%8A%98%E8%85%BE%E8%AE%B0%E5%BD%95/xmake%E6%8A%98%E8%85%BE%E8%AE%B0%E5%BD%95/</link>
      <pubDate>Wed, 04 Dec 2024 15:20:10 +0800</pubDate>
      <guid>https://patrickhao.github.io/posts/%E6%8A%98%E8%85%BE%E8%AE%B0%E5%BD%95/xmake%E6%8A%98%E8%85%BE%E8%AE%B0%E5%BD%95/</guid>
      <description>&lt;blockquote&gt;
&lt;p&gt;ğŸ˜€ åˆšåˆšæ¥è§¦xmakeï¼Œç®€å•è®°å½•ä¸€ä¸‹&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1 id=&#34;xmakeä½“éªŒ&#34;&gt;xmakeä½“éªŒ&lt;/h1&gt;
&lt;p&gt;ä¸€åˆ‡ä»æ–‡æ¡£å¼€å§‹&lt;a href=&#34;https://xmake.io/#/zh-cn/getting_started&#34;&gt;xmake&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æ•´ä¸ªçš„å®‰è£…ä»¥åŠä½¿ç”¨æµç¨‹æ¯”è¾ƒä¸æ»‘&lt;/p&gt;
&lt;h2 id=&#34;å¦‚ä½•å®‰è£…&#34;&gt;å¦‚ä½•å®‰è£…&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-cpp&#34; data-lang=&#34;cpp&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;curl&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;fsSL&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nl&#34;&gt;https&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;//xmake.io/shget.text&amp;gt; | bash
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;åŸºç¡€ä½¿ç”¨&#34;&gt;åŸºç¡€ä½¿ç”¨&lt;/h2&gt;
&lt;h3 id=&#34;åˆ›å»ºæ–°çš„å·¥ç¨‹&#34;&gt;åˆ›å»ºæ–°çš„å·¥ç¨‹&lt;/h3&gt;
&lt;p&gt;åˆ›å»ºä¸€ä¸ªç®€å•çš„hello worldç¨‹åº&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;xmake create -l c++ -P ./hello
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;åˆ›å»ºä¹‹åçš„ä¸»è¦ç›®å½•å¦‚ä¸‹&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-cpp&#34; data-lang=&#34;cpp&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;hello&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;err&#34;&gt;â”œâ”€â”€&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;src&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;err&#34;&gt;â”‚&lt;/span&gt;   &lt;span class=&#34;err&#34;&gt;â””â”€â”€&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;main&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;c&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;err&#34;&gt;â””â”€â”€&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;xmake&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;lua&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;è¿è¡Œç¨‹åº&#34;&gt;è¿è¡Œç¨‹åº&lt;/h3&gt;
&lt;p&gt;è¿è¡Œç¨‹åºä¹Ÿæ¯”è¾ƒç®€å•ï¼Œç›´æ¥ä½¿ç”¨ä»¥ä¸‹æŒ‡ä»¤å³å¯ï¼Œç›¸æ¯”cmakeï¼Œå…¥é—¨è·¯çº¿ç¼“å’Œå¤šäº†&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# æ„å»ºå·¥ç¨‹&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;xmake
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# è¿è¡Œç¨‹åº&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;xmake run hello
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;å•å…ƒæµ‹è¯•&#34;&gt;å•å…ƒæµ‹è¯•&lt;/h3&gt;
&lt;p&gt;æ„å»ºå’Œè¿è¡Œéƒ½éå¸¸ç®€å•ï¼Œåœ¨xmakeä¸­ä½¿ç”¨google testè¿›è¡Œå•å…ƒæµ‹è¯•ä¹Ÿå¾ˆç®€å•ï¼Œå¦‚æœæœ¬åœ°æ²¡æœ‰gtestç¯å¢ƒï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢ä»‹ç»çš„xrepoè¿›è¡Œå®‰è£…ï¼Œå¦‚æœæœ‰çš„è¯ä¹Ÿå¯ä»¥éå¸¸è½»æ¾çš„å¼•å…¥&lt;/p&gt;
&lt;p&gt;åœ¨ &lt;code&gt;xmake.lua&lt;/code&gt; ä¸­åŠ å…¥ä»¥ä¸‹å†…å®¹ï¼Œä¹‹ååœ¨ &lt;code&gt;test&lt;/code&gt; ç›®å½•ä¸‹ç¼–å†™å•å…ƒæµ‹è¯•çš„ä»£ç å³å¯&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-lua&#34; data-lang=&#34;lua&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;add_requires&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;gtest&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;system&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;true&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;})&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;-- å‘Šè¯‰xmakeåœ¨ç³»ç»Ÿä¸­æŸ¥æ‰¾gtest&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;target&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;unitest&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;set_kind&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;binary&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;add_files&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;test/*.cpp&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;add_packages&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;gtest&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;-- é“¾æ¥åˆ°gteståº“&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;set_languages&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;c++17&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç„¶åæ­£å¸¸æ„å»ºï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å•ç‹¬æ„å»ºæµ‹è¯•çš„éƒ¨åˆ†&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-lua&#34; data-lang=&#34;lua&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;xmake&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;build&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;unitest&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ„å»ºåé€šè¿‡ä»¥ä¸‹å‘½ä»¤è¿›è¡Œå•å…ƒæµ‹è¯•&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-lua&#34; data-lang=&#34;lua&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;xmake&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;run&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;unitest&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;åŸºäºxrepoçš„åŒ…ç®¡ç†&#34;&gt;åŸºäºxrepoçš„åŒ…ç®¡ç†&lt;/h2&gt;
&lt;p&gt;åœ¨å®‰è£…xmakeä¹‹åï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨xrepoè¿›è¡ŒåŒ…ç®¡ç†ï¼Œæ•´ä¸ªçš„ç¼–è¯‘æµç¨‹å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œå…³äºxrepoè¯¦ç»†çš„ä½¿ç”¨æ–‡æ¡£åœ¨&lt;a href=&#34;https://xrepo.xmake.io/#/zh-cn/getting_started&#34;&gt;å¿«é€Ÿä¸Šæ‰‹ - xrepo&lt;/a&gt;
&lt;img alt=&#34;Pasted_image_20241204152009.png&#34; loading=&#34;lazy&#34; src=&#34;https://patrickhao.github.io/Pasted_image_20241204152009.png&#34;&gt;
ä¸‹é¢ä»¥å®‰è£…å¹¶ä½¿ç”¨glogä¸ºä¾‹ï¼Œç®€å•æè¿°ä¸€ä¸‹ä½¿ç”¨æµç¨‹&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# æœç´¢ç›¸å…³çš„åŒ…&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;xrepo search glog
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# å®‰è£…ï¼Œè¿™é‡Œé»˜è®¤ä¼šå®‰è£…åœ¨~/.xmake/packagesç›®å½•ä¸‹ï¼Œå¯ä»¥é€šè¿‡xrepo fetch glogç¡®è®¤&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;xrepo install glog
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;åœ¨é¡¹ç›®ä¸­å¼•å…¥è¯¥åŒ…ï¼Œåªéœ€è¦åœ¨ &lt;code&gt;xmake.lua&lt;/code&gt; ä¸­åŠ å…¥ä»¥ä¸‹å†…å®¹å³å¯&lt;/p&gt;</description>
    </item>
    <item>
      <title>miniç³»åˆ—ï¼ˆä¸€ï¼‰minigrep</title>
      <link>https://patrickhao.github.io/posts/mini%E7%B3%BB%E5%88%97/mini%E7%B3%BB%E5%88%97%E4%B8%80minigrep/</link>
      <pubDate>Wed, 04 Dec 2024 12:02:32 +0800</pubDate>
      <guid>https://patrickhao.github.io/posts/mini%E7%B3%BB%E5%88%97/mini%E7%B3%BB%E5%88%97%E4%B8%80minigrep/</guid>
      <description>&lt;blockquote&gt;
&lt;p&gt;ğŸ˜€ ä¸€ä¸ªä½¿ç”¨rustå®ç°çš„éå¸¸ç®€å•çš„grep&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;è¿™å—åˆšæ¥è§¦rustï¼ŒåŸºæœ¬ç…§ç€https://github.com/sunface/rust-courseä¸­çš„ç¤ºä¾‹åœ¨å®ç°ï¼Œæ„Ÿè°¢ä½œè€…çš„rustæ•™ç¨‹&lt;/p&gt;
&lt;h1 id=&#34;intro&#34;&gt;Intro&lt;/h1&gt;
&lt;p&gt;ä¸€ä¸ªç®€å•çš„rustå·¥ç¨‹æ„ä»¶å’Œè¿è¡Œç¤ºä¾‹ï¼Œrustç¯å¢ƒçš„å®‰è£…éå¸¸ç®€å•ï¼Œè¿™é‡Œè´´ä¸€ä¸‹&lt;a href=&#34;https://www.rust-lang.org/zh-CN&#34;&gt;rustæ–‡æ¡£&lt;/a&gt;ä»¥å¤‡ä¸æ—¶ä¹‹éœ€ã€‚åœ¨å®‰è£…rustä¹‹åï¼Œ &lt;code&gt;cargo&lt;/code&gt; æ˜¯ä¸€ä¸ªæ¯”è¾ƒå¸¸ç”¨çš„å·¥å…·ï¼Œ &lt;code&gt;cargo&lt;/code&gt; æ˜¯rustçš„åŒ…ç®¡ç†å·¥å…·ï¼Œå¯ä»¥æ–¹ä¾¿å¿«æ·çš„æ„å»ºå’Œç®¡ç†rustå·¥ç¨‹å’Œé¡¹ç›®ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ç¯‡ä¸»è¦ç®€å•çš„è®°å½•ä¸€ä¸‹åˆæ¬¡æ„å»ºå’Œè¿è¡Œrusté¡¹ç›®çš„è¿‡ç¨‹ï¼Œrustçš„ç›¸å…³è¯­æ³•åœ¨https://github.com/sunface/rust-courseä¸­ä»‹ç»çš„éå¸¸è¯¦ç»†ï¼Œåˆæ­¥æ¥è§¦ä¸‹æ¥æ„Ÿè§‰ç”Ÿå‘½å‘¨æœŸæ˜¯rustä¸­æ¯”è¾ƒå¤æ‚çš„å†…å®¹ï¼Œä½†æ˜¯rustå¸¦æ¥çš„å†…å­˜å®‰å…¨çš„æå‡ã€å¥½ç”¨ä¾¿æ·çš„åŒ…ç®¡ç†å·¥å…·ã€ç›¸æ¯”golangä¼˜ç¾çš„é”™è¯¯å¤„ç†ç­‰éƒ½æ„Ÿè§‰éå¸¸ä¸é”™ï¼Œå¸Œæœ›rustçš„ç”Ÿæ€å¯ä»¥å¿«å¿«èµ·æ¥ğŸ¦€&lt;/p&gt;
&lt;h1 id=&#34;åˆ›å»ºminigrep&#34;&gt;åˆ›å»ºminigrep&lt;/h1&gt;
&lt;p&gt;ä½¿ç”¨ä¸€ä¸‹æŒ‡ä»¤å¯ä»¥åˆ›å»ºä¸€ä¸ªæ–°çš„rusté¡¹ç›®ï¼Œrusté¡¹ç›®åŒ…å«ä¸¤ç§ï¼Œé»˜è®¤çš„æ˜¯äºŒè¿›åˆ¶å¯æ‰§è¡Œæ–‡ä»¶é¡¹ç›®ï¼Œåœ¨åˆ›å»ºæ—¶åŠ ä¸Šé€‰é¡¹ &lt;code&gt;--lib&lt;/code&gt; å¯ä»¥åˆ›å»ºæ–°çš„åº“é¡¹ç›®ï¼Œæ­¤æ—¶é»˜è®¤ä¼šå¸¦ä¸Šå•å…ƒæµ‹è¯•éƒ¨åˆ†çš„ä»£ç ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;cargo new minigrep
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;é¡¹ç›®çš„ä¸»è¦ç»“æ„å¦‚ä¸‹&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Cargo.lock ç”¨äºé”å®šé¡¹ç›®ä¾èµ–çš„å…·ä½“ç‰ˆæœ¬ï¼Œç¡®ä¿æ„å»ºçš„ä¸€è‡´æ€§&lt;/li&gt;
&lt;li&gt;Cargo.toml æ˜¯é¡¹ç›®çš„é…ç½®æ–‡ä»¶ï¼Œç”¨äºç®¡ç†é¡¹ç›®ä¾èµ–ã€å…ƒæ•°æ®ç­‰&lt;/li&gt;
&lt;li&gt;src/main.rs åˆ™æ˜¯äºŒè¿›åˆ¶é¡¹ç›®çš„å…¥å£ç‚¹ï¼Œå®šä¹‰äº†ç¨‹åºå¼€å§‹æ‰§è¡Œçš„ main å‡½æ•°&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;â”œâ”€â”€ Cargo.lock
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;â”œâ”€â”€ Cargo.toml
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;â””â”€â”€ src
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    â””â”€â”€ main.rs
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ„å»ºå’Œè¿è¡Œé¡¹ç›®å¯ä»¥ä½¿ç”¨ä¸€ä¸‹æŒ‡ä»¤&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# æ„å»ºé¡¹ç›®&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;cargo build
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# è¿è¡Œé¡¹ç›®&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;cargo run
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# è¿è¡Œå•å…ƒæµ‹è¯•&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;cargo &lt;span class=&#34;nb&#34;&gt;test&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å¦å¤–å½“å·¥ç¨‹æ¯”è¾ƒå¤§ï¼Œç¼–è¯‘æ¯”è¾ƒè€—æ—¶çš„æ—¶å€™ï¼Œè¿˜å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å·¥å…·ï¼ˆåœ¨å†™C++æ—¶ä¸€æ¡makeä¸€æ¯å’–å•¡çš„æ—¶ä»£ç»ˆäºè¦è¿œå»äº†ï¼‰&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# å¿«é€Ÿæ£€æŸ¥ä»£ç èƒ½å¦é€šè¿‡ç¼–è¯‘&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;cargo check
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h1 id=&#34;å•å…ƒæµ‹è¯•&#34;&gt;å•å…ƒæµ‹è¯•&lt;/h1&gt;
&lt;p&gt;è¿™é‡Œè®°å½•ä¸€ä¸‹å°†å•å…ƒæµ‹è¯•ä¸ä»£ç å®ç°åˆ†å¼€çš„åŠæ³•ï¼Œåœ¨é¡¹ç›®ç›®å½•ä¸‹åˆ›å»º &lt;code&gt;tests&lt;/code&gt; ç›®å½•ï¼Œä¸ºäº†æ¯”è¾ƒæ–¹æ¡ˆçš„ç®¡ç†å„ä¸ªæµ‹è¯•æ–‡ä»¶ï¼Œå¯ä»¥åˆ›å»º &lt;a href=&#34;http://mod.rs&#34;&gt;&lt;code&gt;mod.rs&lt;/code&gt;&lt;/a&gt; å¼•å…¥ç›¸å…³çš„æµ‹è¯•æ¨¡å—ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;pub&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;mod&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;test_minigrep&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;åœ¨ &lt;code&gt;tests&lt;/code&gt; ç›®å½•ä¸‹åˆ›å»º &lt;code&gt;test_minigrep.rs&lt;/code&gt; æ–‡ä»¶ï¼Œç”¨äºç»„ç»‡minigrepç›¸å…³çš„æµ‹è¯•æ ·ä¾‹ï¼Œç„¶åä½¿ç”¨ &lt;code&gt;cargo&lt;/code&gt; æµ‹è¯•å³å¯&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-rust&#34; data-lang=&#34;rust&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;#[cfg(test)]&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;mod&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;test&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;use&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;minigrep&lt;/span&gt;::&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;#[test]&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;fn&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;test_cast1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;// ...
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
    </item>
    <item>
      <title>TVMç³»åˆ—ï¼ˆä¸€ï¼‰ç®€å•ä»‹ç»</title>
      <link>https://patrickhao.github.io/posts/tvm%E7%B3%BB%E5%88%97/tvm%E7%B3%BB%E5%88%97%E4%B8%80%E7%AE%80%E5%8D%95%E4%BB%8B%E7%BB%8D/</link>
      <pubDate>Tue, 03 Dec 2024 15:11:51 +0800</pubDate>
      <guid>https://patrickhao.github.io/posts/tvm%E7%B3%BB%E5%88%97/tvm%E7%B3%BB%E5%88%97%E4%B8%80%E7%AE%80%E5%8D%95%E4%BB%8B%E7%BB%8D/</guid>
      <description>&lt;blockquote&gt;
&lt;p&gt;ä¸»è¦è®°å½•ä¸€ä¸‹ä½¿ç”¨TVMçš„ä¸€èˆ¬æ–¹æ³•&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1 id=&#34;èƒŒæ™¯ç®€ä»‹&#34;&gt;èƒŒæ™¯ç®€ä»‹&lt;/h1&gt;
&lt;p&gt;&lt;img alt=&#34;Pasted_image_20241203130731.png&#34; loading=&#34;lazy&#34; src=&#34;https://patrickhao.github.io/Pasted_image_20241203130731.png&#34;&gt;
ä¸Šé¢æ˜¯TVMçš„ä¸»è¦å·¥ä½œæµç¨‹&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ä»ä¸»æµæ¡†æ¶å¯¼å…¥æ¨¡å‹ï¼Œä¾‹å¦‚Tensorflow, PyTorch, onnxç­‰&lt;/li&gt;
&lt;li&gt;å°†å…¶è½¬ä¸ºRelayï¼ŒRelayæ˜¯TVMçš„ä¸Šå±‚æ¨¡å‹è¯­è¨€ï¼Œæ˜¯é’ˆå¯¹ç¥ç»ç½‘ç»œè®¾è®¡çš„å‡½æ•°è¯­è¨€å’ŒIRï¼Œå…¶ä¸»è¦å…·æœ‰çš„ç‰¹å¾
&lt;ul&gt;
&lt;li&gt;æ”¯æŒä¼ ç»Ÿæ•°æ®æµå½¢å¼çš„è¡¨è¾¾&lt;/li&gt;
&lt;li&gt;Functional-style scoping&lt;/li&gt;
&lt;li&gt;å…è®¸ç”¨æˆ·æ··åˆä¸Šè¿°ä¸¤ç§ç¼–ç¨‹é£æ ¼&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;è½¬ä¸ºTensor Expressionï¼ˆTEï¼‰ï¼ŒTEç”¨çº¯å‡½æ•°å¼è¯­è¨€æè¿°å¼ é‡è®¡ç®—&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨auto-tuning moduleæ¥æœç´¢æœ€å¥½çš„scheduleï¼ŒsheduleæŒ‡å®šäº†Tensor Expressionä¸­å¯¹äºä¸€ä¸ªç®—å­æˆ–å­å›¾çš„åº•å±‚å¾ªç¯ä¼˜åŒ–ï¼ŒTVMæ”¯æŒä¸¤ç§auto-tuning module
&lt;ul&gt;
&lt;li&gt;AutoTVMï¼ŒåŸºäºæ¨¡æ¿çš„auto-tuning moduleï¼ŒTVMæä¾›äº†ä¸€ç³»åˆ—æ¨¡æ¿&lt;/li&gt;
&lt;li&gt;AutoSchedulerï¼ˆä¾‹å¦‚Ansorï¼‰ï¼Œæ— éœ€æ¨¡æ¿çš„auto-tuning moduleï¼Œä¸éœ€è¦é¢„å…ˆå®šä¹‰çš„scheduleæ¨¡æ¿ï¼Œè‡ªåŠ¨ç”Ÿæˆæœç´¢ç©ºé—´&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;é€‰æ‹©æ¨¡å‹ç¼–è¯‘çš„æœ€ä¼˜é…ç½®ï¼Œå°†tuningè®°å½•è®°å½•åœ¨jsonä¸­ï¼Œåœ¨è¿™ä¸€æ­¥é€‰æ‹©æ¯ä¸ªå­å›¾çš„æœ€ä¼˜schedule&lt;/li&gt;
&lt;li&gt;å°†Tensor Expressionï¼ˆTEï¼‰è½¬ä¸ºTensor Intermediate Representationï¼ˆTIRï¼‰ï¼ŒTVMçš„åº•å±‚IRï¼Œä½¿ç”¨åº•å±‚ä¼˜åŒ–passä¼˜åŒ–TIRï¼Œç„¶åå°†æœ€ç»ˆçš„ä»£ç æ”¾åˆ°å¯éƒ¨ç½²çš„åç«¯ä¸Šï¼Œä¸»è¦åŒ…æ‹¬ä»¥ä¸‹çš„åç«¯
&lt;ul&gt;
&lt;li&gt;LLVM&lt;/li&gt;
&lt;li&gt;NVCC, NVIDIAâ€™s compiler&lt;/li&gt;
&lt;li&gt;åµŒå…¥å¼å’Œç‰¹æ®Šå¹³å°&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;ç”Ÿæˆæœºå™¨ç &lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;ç®€å•ç¤ºä¾‹&#34;&gt;ç®€å•ç¤ºä¾‹&lt;/h1&gt;
&lt;p&gt;è¿™é‡Œä»¥super_resolutionä¸ºä¾‹ï¼Œä»‹ç»ä¸€ä¸‹tvmçš„å¯¼å…¥onnxæ¨¡å‹ï¼Œå¹¶ç¼–è¯‘çš„è¿‡ç¨‹ï¼Œè¯¥ç½‘ç»œç»“æ„ç®€å•ï¼Œé€‚åˆç”¨æ¥ç ”ç©¶TVMçš„å·¥ä½œåŸç†
&lt;img alt=&#34;Pasted_image_20241203130817.png&#34; loading=&#34;lazy&#34; src=&#34;https://patrickhao.github.io/Pasted_image_20241203130817.png&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;å‡†å¤‡æ¨¡å‹&#34;&gt;å‡†å¤‡æ¨¡å‹&lt;/h2&gt;
&lt;p&gt;é¦–å…ˆä¸‹è½½onnxæ¨¡å‹ï¼Œè¿™é‡Œè®°å½•ä¸¤ç§ä¸‹è½½onnxæ¨¡å‹çš„æ–¹æ³•&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;é€šè¿‡download_testdataæ–¹æ³•ï¼ˆä¼šä¸‹è½½åˆ°~/.tvm_test_dataç›®å½•ä¸‹ï¼‰&lt;/li&gt;
&lt;li&gt;åœ¨githubä¸Šçš„https://github.com/onnx/modelsæœ‰è®¸å¤šç°æˆçš„onnxæ¨¡å‹&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kn&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;tvm.contrib.download&lt;/span&gt; &lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;download_testdata&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;model_url&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;join&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;s2&#34;&gt;&amp;#34;&amp;lt;https://gist.github.com/zhreshold/&amp;gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;s2&#34;&gt;&amp;#34;bcda4716699ac97ea44f791c24310193/raw/&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;s2&#34;&gt;&amp;#34;93672b029103648953c4e5ad3ac3aadf346a4cdc/&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;s2&#34;&gt;&amp;#34;super_resolution_0.2.onnx&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;model_path&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;download_testdata&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;model_url&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;super_resolution.onnx&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;module&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;onnx&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;ç¼–è¯‘æ¨¡å‹&#34;&gt;ç¼–è¯‘æ¨¡å‹&lt;/h2&gt;
&lt;p&gt;æœ€ç»ˆä¼šç”Ÿæˆä¸€ä¸ª &lt;code&gt;.so&lt;/code&gt; æ–‡ä»¶&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-cpp&#34; data-lang=&#34;cpp&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;onnx&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;tvm&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;tvm&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;relay&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;as&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;relay&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;model_path&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;./super_resolution.onnx&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;onnx_model&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;onnx&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;load&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;model_path&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;shape_dict&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;1&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;224&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;224&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;shape_dict&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;mod&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;params&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;relay&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;frontend&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;from_onnx&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;onnx_model&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;shape_dict&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;with&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;tvm&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;transform&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;PassContext&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;opt_level&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;lib&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;relay&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;build&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;mod&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;target&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;llvm&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;params&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;params&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;lib&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;export_library&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;./super_resolution.so&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;è¿›è¡Œæ¨ç†&#34;&gt;è¿›è¡Œæ¨ç†&lt;/h2&gt;
&lt;p&gt;ä½¿ç”¨å…¶è¿›è¡Œæ¨ç†çš„è¿‡ç¨‹ä¹Ÿæ¯”è¾ƒç®€å•ï¼Œä¸‹é¢çš„ä»£ç åŠ è½½äº†ä¸Šé¢ç¼–è¯‘å¾—åˆ°çš„æ¨¡å‹æ–‡ä»¶ï¼Œå¹¶æ¨ç†å¾—åˆ°ç»“æœï¼Œæ¯”è¾ƒæ ¸å¿ƒçš„ä»£ç æ˜¯ä¸­é—´é‚£ä¸€æ®µï¼Œæœ€åæ”¾ä¸€ä¸ªè¶…åˆ†åçš„å°çŒ«å›¾&lt;/p&gt;</description>
    </item>
  </channel>
</rss>
